{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// ĞŸÑ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ğ¸Ñ… Ğ±Ñ–Ğ±Ğ»Ñ–Ğ¾Ñ‚ĞµĞº\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n  // ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ–Ğ² DOM\n  const form = document.querySelector(\".searchForm\");\n  const searchInput = document.querySelector(\".searchInput\");\n  const loader = document.querySelector(\".loader\");\n  const gallery = document.querySelector(\".gallery\");\n  const loadButton = document.querySelector(\".load-more-button\");\n\n  // ĞšĞ»ÑÑ‡ Ñ‚Ğ° URL API Pixabay\n  const apiKey = \"42055816-5ec499474650eadfc6b07a02f\";\n  const apiUrl = \"https://pixabay.com/api/\";\n\n  // ĞšÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½Ñ†Ñ–\n  const PER_PAGE = 15;\n\n  // Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ lightbox Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ³Ğ»ÑĞ´Ñƒ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n  });\n\n  // ĞŸĞ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ° Ğ´Ğ»Ñ Ğ¿Ğ°Ğ³Ñ–Ğ½Ğ°Ñ†Ñ–Ñ—\n  let currentPage = 1;\n\n  // ĞĞ±Ñ€Ğ¾Ğ±Ğ½Ğ¸Ğº Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ´Ğ»Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ¸ Ğ¿Ğ¾ÑˆÑƒĞºÑƒ\n  form.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n\n    // ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ñ‚ĞµÑ€Ğ¼Ñ–Ğ½Ñƒ Ğ¿Ğ¾ÑˆÑƒĞºÑƒ\n    const searchTerm = searchInput.value.trim();\n\n    if (searchTerm === \"\") {\n      // Ğ’Ğ¸Ğ²ĞµĞ´ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸, ÑĞºÑ‰Ğ¾ Ñ‚ĞµÑ€Ğ¼Ñ–Ğ½ Ğ¿Ğ¾ÑˆÑƒĞºÑƒ Ğ¿Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ñ–Ğ¹\n      iziToast.error({\n        title: \"Error\",\n        position: \"topRight\",\n        message: \"Please enter a search term.\",\n      });\n      return;\n    }\n\n    // ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ğ»Ğ¾Ğ°Ğ´ĞµÑ€ Ñ‚Ğ° Ğ¾Ñ‡Ğ¸ÑÑ‚Ğ¸Ñ‚Ğ¸ Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ Ñ‚Ğ° Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ñ‚Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ \"Load More\"\n    loader.classList.remove(\"hidden\");\n    gallery.innerHTML = \"\";\n    loadButton.classList.add(\"hidden\");\n\n    try {\n      // ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ…\n      await fetchData(searchTerm, currentPage);\n\n    } catch (error) {\n      // ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº Ğ¿Ñ–Ğ´ Ñ‡Ğ°Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ…\n      console.error(\"Error fetching data:\", error);\n      iziToast.error({\n        title: \"Error\",\n        position: \"topRight\",\n        message: \"An error occurred while fetching data. Please try again.\",\n      });\n    } finally {\n      // ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ñ‚Ğ¸ Ğ»Ğ¾Ğ°Ğ´ĞµÑ€ Ğ¿Ñ–ÑĞ»Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ—\n      loader.classList.add(\"hidden\");\n    }\n  });\n\n  // ĞĞ±Ñ€Ğ¾Ğ±Ğ½Ğ¸Ğº Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ´Ğ»Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ \"Load More\"\n  loadButton.addEventListener(\"click\", () => {\n    // ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸ Ğ»Ğ¾Ğ°Ğ´ĞµÑ€ Ñ‚Ğ° Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ñ‚Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ \"Load More\"\n    loader.classList.remove(\"hidden\");\n    loadButton.classList.add(\"hidden\");\n    // Ğ—Ğ±Ñ–Ğ»ÑŒÑˆĞ¸Ñ‚Ğ¸ Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ñƒ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºÑƒ Ñ‚Ğ° Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºĞ¾Ğ²Ñ– Ğ´Ğ°Ğ½Ñ–\n    currentPage++;\n    fetchData(searchInput.value.trim(), currentPage);\n  });\n\n  // Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ…\n  async function fetchData(searchTerm, page) {\n    try {\n      // ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ· API Pixabay\n      const response = await axios.get(`${apiUrl}?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${PER_PAGE}`);\n\n      if (response.status !== 200) {\n        // Ğ¯ĞºÑ‰Ğ¾ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ¾ Ğ½ĞµĞ¾Ñ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ HTTP-Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ, Ğ²Ğ¸Ğ²ĞµÑÑ‚Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºÑƒ\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      const data = response.data;\n\n      if (data.hits.length === 0) {\n        // Ğ¯ĞºÑ‰Ğ¾ Ğ½ĞµĞ¼Ğ°Ñ” Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ, Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ñ‚Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ \"Load More\" Ñ‚Ğ° Ğ²Ğ¸Ğ²ĞµÑÑ‚Ğ¸ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ğ¹Ğ½Ğµ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ\n        loadButton.classList.add(\"hidden\");\n        iziToast.info({\n          title: \"End of Collection\",\n          position: \"topRight\",\n          message: \"We're sorry, but you've reached the end of search results.\",\n        });\n      } else {\n        // Ğ¯ĞºÑ‰Ğ¾ Ñ” Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ, Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ñ‚Ğ¸ Ñ—Ñ… Ñ‚Ğ° Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚Ğ¸/Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ñ‚Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ \"Load More\"\n        const images = data.hits.map((hit) => ({\n          webformatURL: hit.webformatURL,\n          largeImageURL: hit.largeImageURL,\n          tags: hit.tags,\n          likes: hit.likes,\n          views: hit.views,\n          comments: hit.comments,\n          downloads: hit.downloads,\n        }));\n\n        displayImages(images);\n\n        if (data.totalHits > page * PER_PAGE) {\n          loadButton.classList.remove(\"hidden\");\n        } else {\n          loadButton.classList.add(\"hidden\");\n        }\n      }\n    } catch (error) {\n      // ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº, ÑĞºÑ– Ğ¼Ğ¾Ğ¶ÑƒÑ‚ÑŒ Ğ²Ğ¸Ğ½Ğ¸ĞºĞ½ÑƒÑ‚Ğ¸ Ğ¿Ñ–Ğ´ Ñ‡Ğ°Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ…\n      console.error(\"Error fetching data:\", error);\n      iziToast.error({\n        title: \"Error\",\n        position: \"topRight\",\n        message: \"An error occurred while fetching data. Please try again.\",\n      });\n    } finally {\n      // ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ²Ğ°Ñ‚Ğ¸ Ğ»Ğ¾Ğ°Ğ´ĞµÑ€ Ğ¿Ñ–ÑĞ»Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ—\n      loader.classList.add(\"hidden\");\n    }\n  }\n\n  // Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ´Ğ»Ñ Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½Ñ†Ñ–\n  function displayImages(images) {\n    const galleryHTML = images\n      .map(\n        (image) => `\n          <div class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n              <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"image-thumbnail\">\n            </a>\n            <div class=\"image-details\">\n              <p><b>ğŸ’—Likes:</b> ${image.likes}</p>\n              <p><b>ğŸ‘ï¸Views:</b> ${image.views}</p>\n              <p><b>ğŸ’¬Comments:</b> ${image.comments}</p>\n              <p><b>ğŸ’ŒDownloads:</b> ${image.downloads}</p>\n            </div>\n          </div>\n        `\n      )\n      .join(\"\");\n\n    // Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ HTML Ğ´Ğ»Ñ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ Ğ² Ğ³Ğ°Ğ»ĞµÑ€ĞµÑ\n    gallery.innerHTML += galleryHTML;\n\n    // ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ lightbox Ğ¿Ñ–ÑĞ»Ñ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ½Ğ¾Ğ²Ğ¸Ñ… Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ\n    lightbox.refresh();\n\n    // ĞŸÑ€Ğ¾ĞºÑ€ÑƒÑ‚Ğ¸Ñ‚Ğ¸ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºÑƒ Ñ‚Ğ°Ğº, Ñ‰Ğ¾Ğ± ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ Ğ¼Ñ–Ğ³ Ğ¿Ğ¾Ğ±Ğ°Ñ‡Ğ¸Ñ‚Ğ¸ Ğ½Ğ¾Ğ²Ñ– Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ\n    const cardHeight = document.querySelector('.gallery-item')?.getBoundingClientRect().height;\n    if (cardHeight) {\n      smoothScrollBy(cardHeight * images.length, 300);\n    }\n  }\n\n  // Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ğ²Ğ½Ğ¾Ñ— Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‚ĞºĞ¸ ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ¸\n  function smoothScrollBy(distance, duration) {\n    const initialY = window.scrollY;\n    const targetY = initialY + distance;\n\n    let startTime = null;\n\n    function scrollAnimation(currentTime) {\n      if (!startTime) {\n        startTime = currentTime;\n      }\n\n      const progress = currentTime - startTime;\n      const elapsedTime = Math.min(progress, duration);\n\n      const easeInOutQuad = (t) => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n\n      window.scrollTo(0, initialY + easeInOutQuad(elapsedTime / duration) * distance);\n\n      if (progress < duration) {\n        requestAnimationFrame(scrollAnimation);\n      }\n    }\n\n    requestAnimationFrame(scrollAnimation);\n  }\n});\n"],"names":["form","searchInput","loader","gallery","loadButton","apiKey","apiUrl","PER_PAGE","lightbox","SimpleLightbox","currentPage","event","searchTerm","iziToast","fetchData","error","page","response","axios","data","images","hit","displayImages","galleryHTML","image","cardHeight","_a","smoothScrollBy","distance","duration","initialY","startTime","scrollAnimation","currentTime","progress","elapsedTime","easeInOutQuad","t"],"mappings":"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"}